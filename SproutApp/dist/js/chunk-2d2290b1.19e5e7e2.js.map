{"version":3,"sources":["webpack:///./src/_browse/category.vue","webpack:///./src/_browse/category.vue?3a05"],"names":["class","slot","text","icon","chevronBack","src","banner","onerror","name","description","start","select","selectButton","data","subject","s","key","open","alt","checked","items","setup","components","IonPage","IonContent","IonButtons","IonHeader","IonToolbar","IonList","IonItem","IonLabel","IonThumbnail","IonButton","IonToggle","IonBackButton","computed","category","this","$route","params","$store","state","course","subs","Object","keys","length","count","methods","back","$router","push","console","log","bank","filter","v","map","path","window","MCQ","reset","dispatch","sub","code","selection","mounted","then","res","render"],"mappings":"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","file":"js/chunk-2d2290b1.19e5e7e2.js","sourcesContent":["<template>\n<ion-page>\n  <!-- Back button with custom text and icon -->\n  <ion-header class=\"ion-no-border\">\n    <ion-toolbar >\n      <ion-buttons slot=\"start\" >\n        <ion-back-button\n            text=\"Browse\"\n            :icon=\"chevronBack\"\n            >\n        </ion-back-button>\n      </ion-buttons>\n    </ion-toolbar>\n  </ion-header>\n  <ion-content>\n\n\n    <div class=\"header-art\">\n      <img :src=\"banner\" onerror=\"this.src='/fallback/tile.png'\">\n      <h4 class=\"ion-padding browse-header\">{{name}}</h4>\n      <span>{{description}}</span><br>\n      <ion-button class=\"header-button\" @click=\"start\">Start</ion-button>\n      <ion-button class=\"header-button\" @click=\"select=!select\">{{selectButton}}</ion-button>\n    </div>\n\n    <ion-list>\n      <ion-item v-for=\"(subject, s) in data\" :key=\"s\" @click=\"open(s)\">\n\n        <ion-thumbnail>\n          <img :src=\"src(s)\" alt=\"\" onerror=\"this.src='/fallback/tile.png'\" class=\"thumb\">\n        </ion-thumbnail>\n        <ion-label class=\"item-subject\">\n          <b>{{subject.name}}</b>\n          <span>{{subject.description}}</span>\n        </ion-label>\n        <ion-toggle v-show=\"select\" v-model=\"subject.checked\"></ion-toggle>\n      </ion-item>\n    </ion-list>\n    <ion-label class=\"ion-padding\">\n      {{items}}\n    </ion-label>\n\n\n  </ion-content>\n</ion-page>\n\n\n\n\n\n</template>\n\n<script>\nimport {\n  IonPage, IonContent,\n  IonButtons, IonHeader, IonToolbar,\n  IonButton, IonToggle, IonBackButton,\n  IonList, IonItem, IonLabel, IonThumbnail,\n} from '@ionic/vue';\n\nimport { chevronBack } from 'ionicons/icons';\n\n\n\n\nexport default {\n  setup(){\n    return{\n      chevronBack\n    }\n  },\n  components: {\n    IonPage, IonContent, IonButtons, IonHeader, IonToolbar,\n    IonList, IonItem, IonLabel, IonThumbnail,\n    IonButton, IonToggle,\n    IonBackButton,\n  },\n\n  computed:{\n    category(){\n      return this.$route.params.category\n    },\n    banner(){\n      return `/db/${this.$store.state.course}/${this.category}/default.png`;\n    },\n    selectButton(){\n      return (this.select ? 'Cancel' : 'Select Subject' )\n    },\n    items(){\n      const subs = Object.keys(this.data).length\n      return `${this.count} item(s), ${subs} subject(s)`\n    }\n  },\n  methods:{\n    back(){\n      this.$router.push('/app/browse')\n    },\n    start(){\n      const course = this.$store.state.course;\n      console.log(this.data);\n      let bank = []\n      if(this.select){\n        //create an array of subject list to be loaded\n        bank = Object.keys(this.data).filter(v=>{\n          return this.data[v].checked\n        }).map(subject=>{\n          return {\n            category:this.name,\n            subject:this.data[subject],\n            path: `/db/${course}/${this.category}/${subject}/index.json`\n          }\n        });\n\n        console.log('BANK');\n        console.log(bank);\n      }\n      else {\n        bank = Object.keys(this.data).map(subject=>{\n          return {\n            category:this.name,\n            subject:this.data[subject].name,\n            path:`/db/${course}/${this.category}/${subject}/index.json`\n          }\n        });\n      }\n      window.MCQ.reset();\n      this.$store.dispatch('getTokens', bank)\n    },\n    open(sub){\n      if(this.select) return\n      console.log('Navigating to: '+sub);\n\n      this.$store.dispatch('setRecent', {\n        name:this.data[sub].name,\n        description:this.data[sub].description,\n        code:sub,\n        category:this.category\n      })\n\n      this.$router.push({name:'subject', params:{ category:this.category, subject:sub }})\n\n    },\n    src(code){\n      return `/db/${this.$store.state.course}/${this.category}/${code}/default.png`;\n    }\n  },\n  data(){\n    return {\n\n      // index file of category\n      name:\"\",\n      description:\"\",\n      count:0,\n      data:{},\n\n      //\n      select:false,\n      selection:[],\n    }\n  },\n  mounted(){\n    console.log('Category Init');\n    console.log(this.category);\n\n\n    this.$store.dispatch('getCategory', this.category ).then(res=>{\n      this.name = res.name;\n      this.description = res.description;\n      this.count = res.count;\n      this.data = res.data;\n      Object.keys(this.data).map(v=>{\n        this.data[v].checked = false\n      })\n    })\n\n  }\n\n};\n</script>\n","import { render } from \"./category.vue?vue&type=template&id=2b7e40c8\"\nimport script from \"./category.vue?vue&type=script&lang=js\"\nexport * from \"./category.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}