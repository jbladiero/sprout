{"version":3,"sources":["webpack:///./src/main/mcq.vue?2e2a","webpack:///./src/main/mcq.vue","webpack:///./src/main/mcq.vue?8bde"],"names":["class","id","slot","text","icon","closeOutline","defaultHref","name","fullscreen","question","image","src","source","alt","reveal","explanation","choices","choice","c","key","remarks","choose","value","prev","chevronBackOutline","size","hash","next","chevronForwardOutline","setup","components","IonHeader","IonToolbar","IonTitle","IonContent","IonPage","IonFooter","IonButtons","IonBackButton","IonIcon","data","loaded","tokens","answer","path","details","historyIndex","methods","loadToken","token","this","category","subject","getToken","console","log","window","MCQ","JSON","parse","stringify","shuffle","concat","map","v","array","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","index","item","i","$store","dispatch","correct","newToken","history","computed","state","created","render","__scopeId"],"mappings":"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","file":"js/chunk-e16b9d98.3c05093b.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./mcq.vue?vue&type=style&index=0&id=019f4228&media=screen&scoped=true&lang=css\"","<template>\n  <ion-page>\n    <ion-header class=\"ion-no-border\">\n      <ion-toolbar>\n        <ion-buttons slot=\"end\">\n          <ion-back-button\n              text=\"\"\n              :icon=\"closeOutline\"\n              defaultHref='/app/me'\n              >\n          </ion-back-button>\n        </ion-buttons>\n        <ion-title>\n          {{name}}\n        </ion-title>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\">\n      <div class=\"container\">\n\n\n        <div id=\"main\" class=\"ion-padding\">\n          <h3>Question:</h3>\n          {{question}}\n        </div>\n\n        <div id=\"image\" v-if=\"image!='none'\">\n          <img :src=\"source\" alt=\"\" >\n        </div>\n\n        <div v-if=\"reveal\" class=\"ion-padding\">\n          <h3>Explanation:</h3>\n          {{explanation}}\n        </div>\n\n\n      </div>\n\n\n\n</ion-content>\n\n\n\n  <ion-footer class=\"ion-no-border ion-padding\">\n\n    <div id=\"choices\" class=\"choices\">\n      <div class=\"choice ion-padding\" v-for=\"(choice,c) in choices\" :key=\"c\" :remarks=\"choice.remarks\" @click=\"choose(c)\">\n        {{choice.value}}\n      </div>\n    </div>\n\n\n    <nav>\n      <div class=\"button\" id=\"previous\" @click=\"prev\">\n        <ion-icon :icon=\"chevronBackOutline\" size=\"small\"></ion-icon>\n        <span>prev</span>\n      </div>\n      <div class=\"hash\">{{hash}}</div>\n      <div class=\"button\"  id=\"next\" @click=\"next\">\n        <span>next</span>\n        <ion-icon :icon=\"chevronForwardOutline\" size=\"small\"></ion-icon>\n      </div>\n    </nav>\n\n</ion-footer>\n\n  </ion-page>\n</template>\n\n<script lang=\"js\">\nimport { IonPage, IonHeader, IonToolbar, IonTitle, IonContent,\n  IonFooter, IonIcon,\n  IonButtons, IonBackButton\n\n\n} from '@ionic/vue';\n\n\nimport { chevronForwardOutline, chevronBackOutline, closeOutline} from 'ionicons/icons'\n\n\n\nexport default  {\n  setup(){\n    return{\n      chevronForwardOutline, chevronBackOutline, closeOutline\n    }\n  },\n  name: 'MCQ',\n\n  components: {\n    IonHeader, IonToolbar, IonTitle, IonContent, IonPage, IonFooter,\n    IonButtons, IonBackButton, IonIcon\n\n   //IonCardContent, IonCardSubtitle, IonCardTitle,\n   },\n   data(){\n     return{\n       loaded:0,\n       tokens:[],\n\n       // MCQ\n       hash:12345,\n       question:'',\n       answer:'',\n       choices:[{value:'choice', remarks:'none'}],\n       explanation:'',\n       image:'',\n       path:'',\n       details:{},\n\n       reveal:false,\n\n       // History\n       historyIndex:-1,\n     }\n   },\n\n\n   methods:{\n     loadToken(token){\n       this.hash = token.hash\n       this.question = token.question\n       this.answer = token.answer\n       this.choices = token.choices\n       this.image = token.image\n       this.path = token.path\n       this.details = { category:token.category, subject:token.subject}\n       this.explanation = (this.explanation=='' ? 'No Explanation' : token.explanation)\n       this.reveal = true;\n     },\n     getToken(){\n       console.log('get Token');\n      let token = window.MCQ.token\n      console.log('Tokenizing');\n      console.log(token);\n\n      token = JSON.parse(JSON.stringify(token));\n\n      this.hash = token.hash\n      this.question = token.question\n      this.answer = token.answer\n      this.choices = this.shuffle(token.choices.concat(token.answer)).map(v=>{\n        return { value:v, remarks:'ready' }\n      })\n      this.image = token.image\n      this.path = token.path\n      this.details = { category:token.category, subject:token.subject}\n      this.explanation = (this.explanation=='' ? 'No Explanation' : token.explanation)\n      this.reveal = false;\n    },\n    shuffle(array) {\n      let currentIndex = array.length, temporaryValue, randomIndex;\n      // While there remain elements to shuffle...\n      while (0 !== currentIndex) {\n        // Pick a remaining element...\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n        // And swap it with the current element.\n        temporaryValue = array[currentIndex];\n        array[currentIndex] = array[randomIndex];\n        array[randomIndex] = temporaryValue;\n      }\n      return array;\n    },\n    choose(index){\n      if(this.choices[index].remarks!='ready'){\n        return\n      }\n\n      this.choices = this.choices.map((item, i) => {\n        if(item.value==this.answer){ item.remarks='correct' }\n        else if (i==index) { item.remarks='wrong' }\n        else { item.remarks='none' }\n        return item\n      });\n      this.reveal = true\n      // add to History and Statistics\n      this.$store.dispatch('setHistory', {\n        hash:this.hash,\n        question:this.question,\n        choices:this.choices,\n        image:this.image,\n        explanation:this.explanation,\n        path:this.path\n      })\n\n      this.$store.dispatch('setStatistics',{\n        correct:this.answer==this.choices[index].value,\n        category:this.details.category,\n        subject:this.details.subject\n      })\n\n      this.historyIndex=0;\n      window.MCQ.newToken()\n    },\n    next(){\n      if(this.historyIndex<0){\n        console.log('Answer first');\n        return\n      }\n      this.historyIndex--;\n      if(this.historyIndex>=0){\n        this.loadToken(this.history[this.historyIndex])\n        return\n      }\n      this.getToken();\n    },\n    prev(){\n      if(this.historyIndex>=this.history.length){\n        console.log('No more to preview');\n        return;\n      }\n      console.log('Prev');\n      this.historyIndex++\n      this.loadToken(this.history[this.historyIndex])\n    }\n   },\n\n  computed:{\n    name(){\n      return this.$store.state.name;\n    },\n    source(){\n      return this.path +  `${this.hash}.${this.image}`\n    },\n    history(){\n      return this.$store.state.history\n    }\n  },\n  created(){\n    console.log('created');\n    this.getToken()\n  }\n}\n</script>\n\n\n\n<style media=\"screen\" scoped>\n\n\n.choices{\n  max-height: 60vh;\n  overflow: scroll;\n}\n\n\n.choice{\n  animation: 0.4s;\n  width: 100%;\n  background-color: rgba(128,128,128,0.17);\n  border-radius: 17px;\n\n  color:var(--ion-color-mcq-contrast);\n  margin-bottom: 4px;\n  position: relative;\n  line-height: 105%;\n}\n\n.choice[remarks=ready]:hover{\n  background-color: rgba(128,128,128,0.3);\n}\n\n\n\nnav{\n  display: flex;\n}\n\nnav .button{\n  max-width: 170px;\n  width: 100%;\n}\n\nnav .button span{\n  vertical-align: top;\n}\n\nnav #previous{\n  text-align: left;\n}\nnav #next{\n    text-align: right;\n}\nnav .hash{\n  align-self: center;\n  width: 100%;\n  text-align: center;\n  vertical-align: center;\n  font-size: 69%;\n}\n\n\n\n\n\n.container {\n  display: flex;\n  flex-direction: column;\n\n}\n\n.container #image{\n  max-height: 300px;\n  max-width: 400px;\n  margin: auto;\n}\n\n\n\n.container #main{\n  height: 100%;\n  overflow-y: scroll;\n}\n\n.container #choices{\n  flex-grow: 1;\n\n  height: auto;\n}\n\n\n#choices{\n  padding-bottom: 1em;\n}\n\n\n\n@keyframes correct {\n  from {background-color: var(--green);\n    padding-left: 0;\n  }\n  to {\n    padding-left: 10px;\n    background-color: white;}\n}\n\n[remarks=correct]{\n  color: var(--green);\n  font-weight: bold;\n    border: none;\n}\n\n[remarks=wrong]{\n  color: var(--red);\n  font-weight: bold;\n  border: none;\n}\n\nion-footer{\n  border-radius: 17px 17px 0px 0px ;\n}\n\n</style>\n","import { render } from \"./mcq.vue?vue&type=template&id=019f4228&scoped=true\"\nimport script from \"./mcq.vue?vue&type=script&lang=js\"\nexport * from \"./mcq.vue?vue&type=script&lang=js\"\n\nimport \"./mcq.vue?vue&type=style&index=0&id=019f4228&media=screen&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-019f4228\"\n\nexport default script"],"sourceRoot":""}